{% extends "usermanagement/base-doctor.html" %} 
{% block title %} Doctor {% endblock %} 
{% load static %}
{% load template_extras %}

{% block body %}
<section class="content profile-page">
    <div class="container-fluid">
        {% if messages %}
        <div> 
            <ul>
            {% for message in messages %}
            <div class="alert alert-primary alert-dismissible fade show" role="alert">
                    <strong>{{message}}</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
            </div>
            {% endfor %}
            </ul>
        </div>
         {% endif %}
        <div class="row clearfix">
            <div class="col-md-12 p-l-0 p-r-0">
                <section class="boxs-simple">
                    <div class="profile-header">
                        <div class="profile_info">
                            <div class="profile-image">
                                {% if user.profile_pic %}
                                <img src="{{user.profile_pic.url}}" class="img-fluid img-style-pp" alt=""> 
                                {% else %}    
                                    <img src="{% static 'usermanagement/images/default-pp.jpeg' %}" class="img-fluid img-style-pp" alt="">                               
                                {% endif %}  
                            </div>   
                            <h4 class="mb-0"><strong>Dr. {{user.first_name}}</strong> {{user.last_name}}</h4>
                            <span class="text-muted col-white">{{user.doctor.speciality}}</span>
                        
                        </div>
                    </div>
                    <div class="mb-4">
                    </div>
                </section>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-4 col-md-12">
                <div class="card">
                    <div class="header">
                        <h2>About Me</h2>
                    </div>
                    <div class="body">
                        <p class="text-default">{{user.about}}</p>
                        <blockquote>
                            <small>Dr. <cite title="Source Title">{{user.first_name}} {{user.last_name}}</cite></small> </blockquote>
                    </div>
                </div>
                <div class="card">
                    <div class="header">
                        <h2>My Portfolio Status</h2>
                    </div>
                    <div class="body">
                        <ul class="list-unstyled">
                            <li>
                                <div>Patient Success rate</div>
                                <div class="progress mb-3">
                                    <div class="progress-bar bg-success progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%"> <span class="sr-only">40% Complete (success)</span> </div>
                                </div>
                            </li>
                            <li>
                                <div>Social media status</div>
                                <div class="progress mb-3">
                                    <div class="progress-bar bg-info progress-bar-striped" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%"> <span class="sr-only">20% Complete</span> </div>
                                </div>
                            </li>
                            <li>
                                <div>Departmental status</div>
                                <div class="progress mb-3">
                                    <div class="progress-bar bg-warning progress-bar-striped" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%"> <span class="sr-only">60% Complete (warning)</span> </div>
                                </div>
                            </li>
                            <li>
                                <div>Work Load</div>
                                <div class="progress">
                                    <div class="progress-bar bg-danger progress-bar-striped" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%"> <span class="sr-only">80% Complete (danger)</span> </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 col-md-12">
                <div class="card">
                    <div class="body"> 
                        <!-- Nav tabs -->
                        
                        <h3 style="text-align:center"> Statistics</h3>
                        
                        <!-- Tab panes -->
                        <div class="tab-content">
                            
                            <div role="tabpanel" class="tab-pane active" id="timeline">
                                <div class="timeline-body">
                                    <div class="table-responsive">
                                        <table class="table table-striped">
                                            <thead>
                                            <tr>
                                                <th> Consultations Completed </th>
                                                <th> Consultations Pending</th>
                                                <th>Consultations On Hold </th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>{{ consultations | count:'Complete'}}</td>
                                                <td> {{ consultations | count:'Pending'}} </td>
                                                <td> {{ consultations | count:'On Hold'}} </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                                    
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}